# Contributor: Steeve Chailloux <steeve.chailloux@orus.io>
# Maintainer: Steeve Chailloux <steeve.chailloux@orus.io>
pkgname=py3-lasso
_pkgname=lasso
pkgver=2.6.0
pkgrel=0
pkgdesc="Lasso is a free-software library implementing the SAML 2.0 and ID-FF 1.2 protocols."
url="https://dev.entrouvert.org/projects/lasso"
arch="all"
license="GPL-3.0-only"
depends=""
makedepends="libxml2-dev libxslt-dev xmlsec-dev glib-dev python3-dev py3-lxml openssl-dev glib-dev libtool gtk-doc chrpath py3-six"
install=""
subpackages="$pkgname-doc"
source="https://dev.entrouvert.org/${_pkgname}/${_pkgname}-${pkgver}.tar.gz"
builddir="$srcdir/$_pkgname-$pkgver"

build() {
	cd "$builddir"
	./configure \
		--prefix=/usr \
		--mandir=/usr/share/man \
		--disable-perl \
		--disable-php5 \
		--disable-java \
		--with-python=/usr/bin/python3
	make
}

check() {
	cd "$builddir"
	# make check
}

package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}
sha512sums="bec7ab09f73db01b0a88cd1a7c9e9c8bb6af2e0aeb5e9ece2aa0f2f46e22b6a412990c29971a765a830f0bedf174b7c9d866cae599b81d047d381cf59d844506  lasso-2.6.0.tar.gz"
